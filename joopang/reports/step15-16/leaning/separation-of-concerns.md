# 관심사의 분리 (Separation of Concerns, SoC)

## 1. 개념

- 컴퓨터 프로그램을 구별된 부분으로 분리시키는 디자인 원칙.
- 각 부분은 개별적인 관심사(Concern)를 해결하도록 구성됨.
- 관심사란 프로그램 코드에 영향을 미치는 정보의 집합.

## 2. 목적 및 장점

- **모듈화(Modularity)**: 코드가 논리적으로 분리되어 있어 이해하기 쉽고 관리가 용이함.
- **유지보수성(Maintainability)**: 한 부분의 수정이 다른 부분에 미치는 영향을 최소화.
- **재사용성(Reusability)**: 특정 관심사를 처리하는 모듈을 다른 곳에서 재사용 가능.
- **테스트 용이성(Testability)**: 각 모듈을 독립적으로 테스트하기 쉬움.

## 3. 적용 예시

### 3.1 계층형 아키텍처 (Layered Architecture)

- **Presentation Layer**: 사용자 인터페이스 및 입력 처리.
- **Business Layer**: 비즈니스 로직 수행.
- **Data Access Layer**: 데이터베이스 통신.
- 각 계층은 자신의 역할에만 집중하고, 인접한 계층과만 통신함.

### 3.2 AOP (Aspect-Oriented Programming)

- **횡단 관심사(Cross-cutting Concerns)**: 로깅, 보안, 트랜잭션 등 여러 모듈에 공통적으로 나타나는 기능.
- AOP를 통해 비즈니스 로직(핵심 관심사)에서 횡단 관심사를 분리하여 코드 중복을 제거하고 응집도를 높임.

### 3.3 MVC 패턴

- **Model**: 데이터와 비즈니스 로직.
- **View**: 사용자에게 보여지는 화면.
- **Controller**: 사용자 입력을 받아 Model과 View를 연결.

## 4. 마이크로서비스(MSA)에서의 SoC

- 서비스 간의 경계를 명확히 하여 각 서비스가 특정 비즈니스 기능(Bounded Context)에만 집중하도록 함.
- 서비스 내부에서도 클린 아키텍처나 헥사고날 아키텍처를 통해 도메인 로직과 인프라스트럭처를 분리.

## 5. 현대적 관점의 SoC와 트렌드 변화

### 5.1 변경 비용과 안정성

- **변경 영향 최소화**: 관심사가 잘 분리되어 있으면, 기능 변경 시 수정해야 할 코드의 범위가 국소화된다. 이는 사이드 이펙트를 줄이고 버그 발생 가능성을 낮춘다.
- **트랜잭션 범위 축소**: 거대한 글로벌 트랜잭션 대신, 서비스 단위의 로컬 트랜잭션으로 범위를 좁혀 성능과 가용성을 확보한다.

### 5.2 재사용성 vs 독립성 (결합도)

- **과거의 관점**: 코드 중복을 악으로 규정하고, 공통 모듈을 통한 **재사용성(Reusability)**을 최우선으로 함.
- **현대의 관점 (MSA)**: 과도한 재사용은 모듈 간의 **결합도(Coupling)**를 높여, 하나의 수정이 전체에 영향을 미치는 문제를 야기함.
- **트렌드**: 최근에는 서비스의 **독립성**과 **분리 용이성**을 위해, 약간의 코드 중복을 허용하더라도 결합도를 낮추는 방향을 선호함. (예: 각 서비스가 자신만의 DTO를 가짐)
