# ğŸ“Š í•µì‹¬ ëª¨ë‹ˆí„°ë§ ì§€í‘œ ìƒì„¸ (Detailed Monitoring Metrics)

## 1. ëª¨ë‹ˆí„°ë§ ë°©ë²•ë¡ 

### 1.1 USE Method (For Resources)
ì¸í”„ë¼ ë¦¬ì†ŒìŠ¤(CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ ë“±)ì˜ ìƒíƒœë¥¼ íŒŒì•…í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
- **Utilization (ì‚¬ìš©ë¥ )**: ë¦¬ì†ŒìŠ¤ê°€ ì–¼ë§ˆë‚˜ ë°”ìœê°€? (ì˜ˆ: CPU 90%)
- **Saturation (í¬í™”ë„)**: ë¦¬ì†ŒìŠ¤ê°€ ì²˜ë¦¬í•˜ì§€ ëª»í•´ ëŒ€ê¸° ì¤‘ì¸ ì‘ì—…ì´ ìˆëŠ”ê°€? (ì˜ˆ: Load Average, Disk Queue Length)
- **Errors (ì—ëŸ¬)**: ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ ì‹œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ê°€? (ì˜ˆ: Disk Read Error)

### 1.2 RED Method (For Services)
ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì™€ ê°™ì€ ìš”ì²­ ê¸°ë°˜ ì„œë¹„ìŠ¤ì˜ ìƒíƒœë¥¼ íŒŒì•…í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
- **Rate (ìš”ì²­ëŸ‰)**: ì´ˆë‹¹ ìš”ì²­ ìˆ˜ (RPS/TPS).
- **Errors (ì—ëŸ¬ìœ¨)**: ì‹¤íŒ¨í•œ ìš”ì²­ì˜ ë¹„ìœ¨ (HTTP 500 ë“±).
- **Duration (ì†Œìš” ì‹œê°„)**: ìš”ì²­ ì²˜ë¦¬ ì‹œê°„ (Latency).

### 1.3 Four Golden Signals (Google SRE)
1.  **Latency**: ì‘ë‹µ ì§€ì—° ì‹œê°„. (ì„±ê³µ/ì‹¤íŒ¨ êµ¬ë¶„ í•„ìš”)
2.  **Traffic**: ì‹œìŠ¤í…œì— ê°€í•´ì§€ëŠ” ìˆ˜ìš”. (RPS, I/O ëŒ€ì—­í­)
3.  **Errors**: ìš”ì²­ ì‹¤íŒ¨ìœ¨. (ëª…ì‹œì  ì—ëŸ¬ + ì•”ë¬µì  ì—ëŸ¬)
4.  **Saturation**: ì‹œìŠ¤í…œì˜ "ê½‰ ì°¬" ì •ë„. (ê°€ì¥ ì œì•½ì´ ì‹¬í•œ ë¦¬ì†ŒìŠ¤ ê¸°ì¤€)

---

## 2. ê³„ì¸µë³„ í•µì‹¬ ì§€í‘œ

### 2.1 ì• í”Œë¦¬ì¼€ì´ì…˜ (JVM)
- **Heap Memory**:
    - `Heap Usage`: ì „ì²´ í™ ì‚¬ìš©ëŸ‰. 80~90% ì´ìƒ ì§€ì† ì‹œ ìœ„í—˜.
    - `Old Gen Usage`: Old ì˜ì—­ì´ ê°€ë“ ì°¨ë©´ Major GC ë°œìƒ.
- **Garbage Collection**:
    - `GC Count`: GC ë°œìƒ íšŸìˆ˜.
    - `GC Time (Pause Time)`: GCë¡œ ì¸í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¤‘ë‹¨ ì‹œê°„. (ê°€ì¥ ì¤‘ìš”)
- **Thread**:
    - `Thread Count`: í™œì„± ìŠ¤ë ˆë“œ ìˆ˜.
    - `Thread State`: Blocked/Waiting ìƒíƒœì˜ ìŠ¤ë ˆë“œ ë¹„ìœ¨.

### 2.2 ë°ì´í„°ë² ì´ìŠ¤ (DB)
- **Connection Pool**:
    - `Active Connections`: í˜„ì¬ ì‘ì—… ì¤‘ì¸ ì—°ê²° ìˆ˜. Maxì— ë„ë‹¬í•˜ë©´ ë³‘ëª© ë°œìƒ.
    - `Idle Connections`: ìœ íœ´ ì—°ê²° ìˆ˜.
    - `Connection Wait Time`: ì»¤ë„¥ì…˜ì„ ì–»ê¸° ìœ„í•´ ëŒ€ê¸°í•œ ì‹œê°„.
- **Query**:
    - `Slow Queries`: ì‹¤í–‰ ì‹œê°„ì´ ì„ê³„ì¹˜(ì˜ˆ: 1ì´ˆ)ë¥¼ ì´ˆê³¼í•œ ì¿¼ë¦¬ ìˆ˜.
    - `QPS (Queries Per Second)`: ì´ˆë‹¹ ì¿¼ë¦¬ ì‹¤í–‰ ìˆ˜.

### 2.3 ì‹œìŠ¤í…œ (OS)
- **CPU**:
    - `User/System/IOWait`: CPU ì‚¬ìš© ì‹œê°„ì˜ ë¶„í¬. IOWaitì´ ë†’ìœ¼ë©´ ë””ìŠ¤í¬/ë„¤íŠ¸ì›Œí¬ ë³‘ëª© ì˜ì‹¬.
    - `Load Average`: ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜ ëŒ€ê¸° ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ìˆ˜ì˜ í‰ê· . (ì½”ì–´ ìˆ˜ë³´ë‹¤ ë†’ìœ¼ë©´ ê³¼ë¶€í•˜)
- **Memory**:
    - `Available Memory`: ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬.
    - `Swap Usage`: ìŠ¤ì™‘ ë©”ëª¨ë¦¬ ì‚¬ìš© ì‹œ ì„±ëŠ¥ ê¸‰ê²©íˆ ì €í•˜.
- **Disk I/O**:
    - `IOPS`: ì´ˆë‹¹ ì…ì¶œë ¥ íšŸìˆ˜.
    - `Disk Latency`: ë””ìŠ¤í¬ ì½ê¸°/ì“°ê¸° ì§€ì—° ì‹œê°„.

---

## 3. ì§€í‘œ ì‹œê°í™” ì˜ˆì‹œ (Grafana)

### ëŒ€ì‹œë³´ë“œ êµ¬ì„± ì „ëµ
1.  **Overview (ìƒë‹¨)**: ì„œë¹„ìŠ¤ì˜ ì „ë°˜ì ì¸ ê±´ê°• ìƒíƒœ (RED ì§€í‘œ - RPS, Error Rate, Latency p99).
2.  **Resources (ì¤‘ë‹¨)**: CPU, Memory, Network íŠ¸ë˜í”½ ë“± ì¸í”„ë¼ ì§€í‘œ.
3.  **Details (í•˜ë‹¨)**: JVM í™, GC, DB ì»¤ë„¥ì…˜ í’€ ë“± ìƒì„¸ ì§€í‘œ.

### ì•Œë¦¼(Alert) ì„ê³„ì¹˜ ì„¤ì • ì˜ˆì‹œ
- **Critical (ì¦‰ì‹œ ëŒ€ì‘)**:
    - Error Rate > 5%
    - Latency p99 > 2s
    - CPU Usage > 90% (5ë¶„ ì§€ì†)
    - Disk Free < 10%
- **Warning (í™•ì¸ í•„ìš”)**:
    - Error Rate > 1%
    - Latency p99 > 500ms
    - Heap Usage > 80%
